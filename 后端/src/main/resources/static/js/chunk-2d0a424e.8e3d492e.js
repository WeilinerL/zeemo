(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a424e"],{"04d8":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"osi animated fadeIn"},[a("div",{staticClass:"container-fluid",staticStyle:{"margin-top":"66px"}},[a("b-row",[a("b-card",{staticClass:"text-center",staticStyle:{"max-width":"300px",margin:"0 auto",border:"none"}},[a("div",[a("div",{staticStyle:{width:"16px",height:"16px","background-color":"#17a2b8",display:"inline-block"}}),a("h4",{staticStyle:{display:"inline-block",margin:"3px"}},[t._v("\n            留学信息\n          ")]),a("p",[t._v("Oversea Stuty Information")])])])],1),t.edit_osi?a("div",{staticClass:"osi-edit text-right d-md-down-none"},[a("osi-edit",{attrs:{osIEdit:t.osIEdit}})],1):t._e(),a("div",{staticClass:"container-fluid"},[a("b-row",{staticClass:"justify-content-center"},t._l(t.osInfo,function(e){return a("b-col",{attrs:{sm:"6",lg:"4"}},[a("b-card",{staticStyle:{height:"300px",overflow:"scroll"},attrs:{header:e.type,"header-tag":"header"}},[a("b-card-text",[a("b-list-group",t._l(e.articleList,function(i){return""!=i?a("b-list-group-item",{directives:[{name:"openArticle",rawName:"v-openArticle",value:e.type+"/"+i,expression:"osi.type + '/' + article"}]},[t._v("\n                  "+t._s(i)+"\n                ")]):t._e()}),1)],1)],1)],1)}),1)],1),a("router-view")],1)])},o=[],s=a("bc3a"),n=a.n(s),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"osi-edit"},[a("b-button",{attrs:{variant:"success"},on:{click:function(e){t.show=!0}}},[t._v("编辑此页")]),a("b-modal",{attrs:{title:"编辑留学信息页面",size:"xl","header-bg-variant":t.headerBgVariant,"body-bg-variant":t.bodyBgVariant,"footer-bg-variant":t.footerBgVariant},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("b-container",{staticClass:"text-center",attrs:{fluid:""}},[a("b-row",[a("h5",[t._v("第一部分 文章分类")])]),a("h6",{staticStyle:{color:"#f86c6b"}},[t._v("*删除和增加专题信息点击之后就生效 若视图未改变 请刷新*")]),a("b-row",{staticClass:"mb-1"},[a("b-col",[t._v("专题名称")]),a("b-col",[t._v("操作")])],1),t._l(t.type,function(e){return a("div",[a("hr"),a("b-row",{staticClass:"mb-1"},[a("b-col",[t._v("\n            "+t._s(e.type)+"\n          ")]),a("b-col",[a("b-button",{directives:[{name:"deleteType",rawName:"v-deleteType",value:e.type,expression:"osi.type"}],key:e.type,staticClass:"m-1",attrs:{variant:"primary",size:"sm"}},[t._v("\n              删除\n            ")])],1)],1)],1)}),a("hr"),a("b-row",[a("b-col",[a("b-form-textarea",{attrs:{id:"textarea-small",size:"sm",placeholder:"点击编辑专题名称"},model:{value:t.addType.strType,callback:function(e){t.$set(t.addType,"strType",e)},expression:"addType.strType"}})],1),a("b-col",[a("b-button",{directives:[{name:"addType",rawName:"v-addType"}],staticClass:"m-1",attrs:{variant:"primary",size:"sm"}},[t._v("\n            增加专题\n          ")])],1)],1),a("b-row",[a("h5",[t._v("第二部分 添加文章")])]),a("b-row",{staticClass:"mb-1"},[a("b-col",[t._v("分类")]),a("b-col",[t._v("标题")]),a("b-col",[t._v("操作")])],1),a("hr"),t._l(t.type,function(e){return a("div",t._l(e.articleList,function(i){return""!=i?a("b-row",{staticClass:"mb-1"},[a("b-col",[t._v("\n            "+t._s(e.type)+"\n          ")]),a("b-col",[t._v("\n            "+t._s(i)+"\n          ")]),a("b-col",[a("b-button",{directives:[{name:"deleteArticle",rawName:"v-deleteArticle",value:e.type+"/"+i,expression:"osi.type + '/' + article"}],key:i.type,staticClass:"m-1",attrs:{variant:"primary",size:"sm"}},[t._v("\n              删除\n            ")])],1)],1):t._e()}),1)}),a("hr"),a("b-row",{staticClass:"align-items-center"},[a("b-col",[a("b-form-select",{staticClass:"mt-2",attrs:{options:t.options,size:"sm"},model:{value:t.addTitle.strType,callback:function(e){t.$set(t.addTitle,"strType",e)},expression:"addTitle.strType"}})],1),a("b-col",[a("b-form-textarea",{attrs:{id:"textarea-small",size:"sm",placeholder:"点击编辑文章标题"},model:{value:t.addTitle.strTitle,callback:function(e){t.$set(t.addTitle,"strTitle",e)},expression:"addTitle.strTitle"}})],1),a("b-col",[a("b-form-textarea",{attrs:{id:"textarea-small",size:"sm",placeholder:"点击编辑文章作者"},model:{value:t.addTitle.strAuthor,callback:function(e){t.$set(t.addTitle,"strAuthor",e)},expression:"addTitle.strAuthor"}})],1),a("b-col",[a("b-form-textarea",{staticStyle:{height:"200px",width:"300px"},attrs:{id:"textarea-small",size:"sm",placeholder:"点击编辑文章内容"},model:{value:t.addTitle.strContent,callback:function(e){t.$set(t.addTitle,"strContent",e)},expression:"addTitle.strContent"}})],1),a("b-col",[a("b-button",{directives:[{name:"addArticle",rawName:"v-addArticle"}],staticClass:"m-1",attrs:{variant:"primary",size:"sm"}},[t._v("\n            增加文章\n          ")])],1)],1)],2),a("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("b-button",{staticClass:"float-right m-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){t.show=!1}}},[t._v("\n        关闭\n      ")]),a("b-button",{staticClass:"float-right m-1",attrs:{variant:"primary",size:"sm"},on:{click:t.confirmChange}},[t._v("\n        确认修改\n      ")])],1)],1),a("b-modal",{staticClass:"modal-danger",attrs:{title:"通知","ok-only":!0},model:{value:t.typeNameInfoCheck,callback:function(e){t.typeNameInfoCheck=e},expression:"typeNameInfoCheck"}},[t._v("\n    专题名称不能为空！\n  ")]),a("b-modal",{staticClass:"modal-danger",attrs:{title:"通知","ok-only":!0},model:{value:t.articleTypeInfoCheck,callback:function(e){t.articleTypeInfoCheck=e},expression:"articleTypeInfoCheck"}},[t._v("\n    文章类别不能为空！\n  ")]),a("b-modal",{staticClass:"modal-danger",attrs:{title:"通知","ok-only":!0},model:{value:t.articleTitleInfoCheck,callback:function(e){t.articleTitleInfoCheck=e},expression:"articleTitleInfoCheck"}},[t._v("\n    文章名称不能为空！\n  ")]),a("b-modal",{staticClass:"modal-danger",attrs:{title:"通知","ok-only":!0},model:{value:t.articleAuthorInfoCheck,callback:function(e){t.articleAuthorInfoCheck=e},expression:"articleAuthorInfoCheck"}},[t._v("\n    文章作者不能为空！\n  ")]),a("b-modal",{staticClass:"modal-danger",attrs:{title:"通知","ok-only":!0},model:{value:t.articleContentInfoCheck,callback:function(e){t.articleContentInfoCheck=e},expression:"articleContentInfoCheck"}},[t._v("\n    文章内容不能为空！\n  ")])],1)},r=[],c={inject:["reload"],name:"osi-edit",props:{osIEdit:{type:Array,required:!0}},data:function(){return{show:!1,headerBgVariant:"info",bodyBgVariant:"light",footerBgVariant:"warning",type:[],addType:{strType:""},addTitle:{strType:null,strTitle:"",strAuthor:"",strTime:"",strContent:""},options:[{value:null,text:"请选择文章分类"}],typeNameInfoCheck:!1,articleTypeInfoCheck:!1,articleTitleInfoCheck:!1,articleAuthorInfoCheck:!1,articleContentInfoCheck:!1,dataFlag:!0}},methods:{getArticles:function(){var t=this;n.a.get("http://localhost:8080/oversea_study_info/articles/").then(function(e){t.type=e.data;for(var a=0;a<t.type.length;a++){var i={};i.value=t.type[a].type,i.text=t.type[a].type,t.options.push(i)}})},typeAddCheck:function(){return""!=this.addType.strType||(this.typeNameInfoCheck=!0,!1)},articleAddCheck:function(){return null==this.addTitle.strType?(this.articleTypeInfoCheck=!0,!1):""==this.addTitle.strTitle?(this.articleTitleInfoCheck=!0,!1):""==this.addTitle.strAuthor?(this.articleAuthorInfoCheck=!0,!1):""!=this.addTitle.strContent||(this.articleContentInfoCheck=!0,!1)},confirmChange:function(){var t=this;this.show=!1,setTimeout(function(){t.reload()},"60")}},updated:function(){if(this.dataFlag){this.type=this.osIEdit;for(var t=0;t<this.type.length;t++){var e={};e.value=this.type[t].type,e.text=this.type[t].type,this.options.push(e)}}this.dataFlag=!1},directives:{deleteType:{bind:function(t,e,a){t.onclick=function(){n.a.delete("http://localhost:8080/oversea_study_info/delete_type/"+e.value).then(function(t){"success"==t.data.result&&setTimeout(function(){a.context.getArticles()},"10")})}}},addType:{bind:function(t,e,a){t.onclick=function(){a.context.typeAddCheck()&&n.a.post("http://localhost:8080/oversea_study_info/add_type/"+a.context.addType.strType).then(function(t){"success"==t.data.result&&setTimeout(function(){a.context.getArticles(),a.context.addType={strType:""}},"10")})}}},deleteArticle:{bind:function(t,e,a){t.onclick=function(){n.a.delete("http://localhost:8080/oversea_study_info/delete_article/"+e.value).then(function(t){"success"==t.data.result&&setTimeout(function(){a.context.getArticles()},"10")})}}},addArticle:{bind:function(t,e,a){t.onclick=function(){a.context.articleAddCheck()&&n.a.post("http://localhost:8080/oversea_study_info/add_article",a.context.addTitle).then(function(t){"success"==t.data.result&&setTimeout(function(){a.context.getArticles(),a.context.addTitle={strType:null,strTitle:"",strAuthor:"",strTime:"",strContent:""}},"10")})}}}}},d=c,u=a("2877"),p=Object(u["a"])(d,l,r,!1,null,"4b2b56b6",null),h=p.exports,f={name:"osi",props:{adminInfo:{type:String,required:!0}},components:{OsiEdit:h},data:function(){return{edit_osi:!1,osInfo:[],osIEdit:[]}},methods:{getArticles:function(){var t=this;n.a.get("http://localhost:8080/oversea_study_info/articles/").then(function(e){t.osInfo=e.data,t.osIEdit=t.osInfo})}},created:function(){this.getArticles(),""!=this.adminInfo?this.edit_osi=!0:this.edit_osi=!1},directives:{openArticle:{bind:function(t,e,a){t.onmouseover=function(){t.style.backgroundColor="#20a8d8",t.style.cursor="pointer"},t.onmouseleave=function(){t.style.color="#000",t.style.backgroundColor="#fff"},t.onclick=function(){a.context.$router.push({name:"article",params:{articleTitle:e.value}})}}}}},m=f,y=Object(u["a"])(m,i,o,!1,null,"7d8be7b2",null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-2d0a424e.8e3d492e.js.map