(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c732f"],{5031:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oss animated fadeIn"},[s("div",{staticClass:"container",staticStyle:{"margin-top":"76px","margin-bottom":"76px"}},[s("b-row",{staticClass:"justify-content-center",staticStyle:{margin:"0 auto"}},t._l(t.ossShow,function(e){return s("b-col",{staticClass:"justify-content-center text-center",staticStyle:{border:"none"},attrs:{sm:"6",lg:"4"}},[s("b-card",{class:e.bacColor},[s("i",{staticClass:"icon-pin font-2xl",staticStyle:{float:"left"}}),s("b-card-title",[t._v(t._s(e.ossTitle))]),s("b-card-text",[t._v(t._s(e.content))])],1)],1)}),1),t.edit_oss?s("div",{staticClass:"oss-edit text-right d-md-down-none"},[s("oss-edit",{attrs:{ossInfo:t.ossInfo}})],1):t._e(),s("b-row",[s("b-card",{staticClass:"text-center",staticStyle:{"max-width":"300px",margin:"0 auto",border:"none"}},[s("div",[s("div",{staticStyle:{width:"16px",height:"16px","background-color":"#17a2b8",display:"inline-block"}}),s("h4",{staticStyle:{display:"inline-block",margin:"3px"}},[t._v("\n            服务流程\n          ")]),s("p",[t._v("Service Flow")])])])],1),s("b-container",[s("el-timeline",{staticClass:"font-xl",staticStyle:{"max-width":"700px",margin:"0 auto"}},t._l(t.serviceFlowShow,function(e,o){return s("el-timeline-item",{attrs:{"hide-timestamp":"",color:"#4dbd74"}},[s("b-card",{class:e.sfbackColor,staticStyle:{"max-width":"600px",overflow:"scroll",margin:"0 auto"}},[s("i",{staticClass:"icon-pin font-2xl",staticStyle:{float:"left"}}),s("b-card-img",{staticClass:"d-block",staticStyle:{width:"76px",height:"76px",border:"1px solid green","border-radius":"50em",margin:"0 auto",position:"relative",left:"-12px"},attrs:{src:e.sfbackPic}}),s("b-card-title",{staticClass:"text-center m-0"},[t._v("\n              "+t._s(e.sftitle)+"\n            ")]),s("el-divider",{attrs:{"content-position":"center"}},[t._v(t._s(o+1))]),s("b-card-text",{staticStyle:{"line-height":"1.5"}},[s("pre",[t._v(t._s(e.sfcontent))])])],1)],1)}),1)],1)],1)])},a=[],c=s("bc3a"),l=s.n(c),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oss-edit"},[s("b-button",{attrs:{variant:"success"},on:{click:function(e){t.show=!0}}},[t._v("编辑此页")]),s("b-modal",{attrs:{title:"编辑留学服务页面",size:"xl","header-bg-variant":t.headerBgVariant,"body-bg-variant":t.bodyBgVariant,"footer-bg-variant":t.footerBgVariant},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("b-container",{staticClass:"text-center",attrs:{fluid:""}},[s("b-row",[s("h5",[t._v("第一部分 留学信息展示")])]),s("h6",{staticStyle:{color:"#f86c6b"}},[t._v("*1.若要更改留学信息标题 请先删除该留学信息 再增加相应的留学信息 2.删除和增加留学信息点击之后就生效 若视图未改变 请刷新*")]),s("b-row",{staticClass:"mb-1"},[s("b-col",[t._v("标题")]),s("b-col",[t._v("内容")]),s("b-col",[t._v("背景颜色")]),s("b-col",[t._v("操作")])],1),t._l(t.oss,function(e){return s("div",[s("hr"),s("b-row",{staticClass:"mb-1"},[s("b-col",[t._v("\n            "+t._s(e.ossTitle)+"\n          ")]),s("b-col",[t._v("\n            "+t._s(e.content)+"\n          ")]),s("b-col",[s("div",{class:e.bacColor,staticStyle:{width:"22px",height:"22px",display:"inline-block"}})]),s("b-col",[s("b-button",{directives:[{name:"deleteOss",rawName:"v-deleteOss",value:e.ossTitle,expression:"ossObject.ossTitle"}],key:e.bacColor,staticClass:"m-1",attrs:{variant:"primary",size:"sm"}},[t._v("\n              删除\n            ")])],1)],1),s("hr"),s("b-row",{staticClass:"mb-1"},[s("b-col"),s("b-col",[s("b-form-textarea",{attrs:{id:"textarea-small",size:"sm",placeholder:"点击编辑留学服务作者"},model:{value:e.content,callback:function(s){t.$set(e,"content",s)},expression:"ossObject.content"}})],1),s("b-col",[s("b-form-select",{staticClass:"mt-2",attrs:{options:t.options,size:"sm"},model:{value:e.bacColor,callback:function(s){t.$set(e,"bacColor",s)},expression:"ossObject.bacColor"}})],1),s("b-col")],1)],1)}),s("hr"),s("b-row",[s("b-col",[s("b-form-textarea",{attrs:{id:"textarea-small",size:"sm",placeholder:"点击编辑留学信息标题"},model:{value:t.addOss.ossTitle,callback:function(e){t.$set(t.addOss,"ossTitle",e)},expression:"addOss.ossTitle"}})],1),s("b-col",[s("b-form-textarea",{attrs:{id:"textarea-small",size:"sm",placeholder:"点击编辑留学信息内容"},model:{value:t.addOss.content,callback:function(e){t.$set(t.addOss,"content",e)},expression:"addOss.content"}})],1),s("b-col",[s("b-form-select",{staticClass:"mt-2",attrs:{options:t.options,size:"sm"},model:{value:t.addOss.bacColor,callback:function(e){t.$set(t.addOss,"bacColor",e)},expression:"addOss.bacColor"}})],1),s("b-col",[s("b-button",{directives:[{name:"addOss",rawName:"v-addOss"}],staticClass:"m-1",attrs:{variant:"primary",size:"sm"}},[t._v("\n            增加留学信息\n          ")]),s("div",{class:t.addOss.bacColor,staticStyle:{width:"36px",height:"36px",position:"relative",top:"-33px"}})],1)],1),s("b-row",{staticClass:"mt-3"},[s("h5",[t._v("第二部分 服务流程展示")])]),s("h6",{staticStyle:{color:"#f86c6b"}},[t._v("*1.若要更改服务流程标题 请先删除该服务流程再增加相应的服务流程2.删除和增加服务流程点击之后就生效 若视图未改变 请刷新*")]),s("b-row",{staticClass:"mb-1"},[s("b-col",[t._v("圆圈内的图片")]),s("b-col",[t._v("标题")]),s("b-col",[t._v("内容")]),s("b-col",[t._v("背景颜色")]),s("b-col",[t._v("操作")])],1),t._l(t.serviceFlow,function(e){return s("div",[s("hr"),s("b-row",{staticClass:"mb-1"},[s("b-col",[s("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:e.sfbackPic,alt:"背景图片"}})]),s("b-col",[t._v("\n            "+t._s(e.sftitle)+"\n          ")]),s("b-col",[s("pre",[t._v(t._s(e.sfcontent))])]),s("b-col",[s("div",{class:e.sfbackColor,staticStyle:{width:"22px",height:"22px",display:"inline-block"}})]),s("b-col",[s("b-button",{directives:[{name:"deleteServiceFlow",rawName:"v-deleteServiceFlow",value:e.sftitle,expression:"SFObject.sftitle"}],key:e.sftitle,staticClass:"m-1",attrs:{variant:"primary",size:"sm"}},[t._v("\n              删除\n            ")])],1)],1),s("b-row",[s("b-col",[s("h6",{staticStyle:{color:"#f86c6b"}},[t._v("*1.若要更换图片请直接删除该步骤再重新添加*")])]),s("b-col"),s("b-col",[s("b-form-textarea",{attrs:{id:"textarea-small",size:"sm",placeholder:"点击编辑服务流程内容"},model:{value:e.sfcontent,callback:function(s){t.$set(e,"sfcontent",s)},expression:"SFObject.sfcontent"}})],1),s("b-col",[s("b-form-select",{staticClass:"mt-2",attrs:{options:t.options,size:"sm"},model:{value:e.sfbackColor,callback:function(s){t.$set(e,"sfbackColor",s)},expression:"SFObject.sfbackColor"}})],1),s("b-col")],1)],1)}),s("hr"),s("b-row",[s("b-col",[s("h6",{staticStyle:{color:"#f86c6b"}},[t._v("*1.增加图片会引起相应文件夹变动需要重新登录 2.图片大小不能超过10MB*")]),s("b-form-file",{staticClass:"mt-3",attrs:{accept:"image/jpeg, image/png",plain:""},model:{value:t.addServiceFlow.sfbackPic,callback:function(e){t.$set(t.addServiceFlow,"sfbackPic",e)},expression:"addServiceFlow.sfbackPic"}})],1),s("b-col",[s("b-form-textarea",{attrs:{id:"textarea-small",size:"sm",placeholder:"点击编辑服务流程标题"},model:{value:t.addServiceFlow.sftitle,callback:function(e){t.$set(t.addServiceFlow,"sftitle",e)},expression:"addServiceFlow.sftitle"}})],1),s("b-col",[s("b-form-textarea",{attrs:{id:"textarea-small",size:"sm",placeholder:"点击编辑服务流程内容"},model:{value:t.addServiceFlow.sfcontent,callback:function(e){t.$set(t.addServiceFlow,"sfcontent",e)},expression:"addServiceFlow.sfcontent"}})],1),s("b-col",[s("b-form-select",{staticClass:"mt-2",attrs:{options:t.options,size:"sm"},model:{value:t.addServiceFlow.sfbackColor,callback:function(e){t.$set(t.addServiceFlow,"sfbackColor",e)},expression:"addServiceFlow.sfbackColor"}})],1),s("b-col",[s("b-button",{directives:[{name:"addServiceFlow",rawName:"v-addServiceFlow"}],staticClass:"m-1",attrs:{variant:"primary",size:"sm"}},[t._v("\n            增加服务流程\n          ")]),s("div",{class:t.addServiceFlow.sfbackColor,staticStyle:{width:"36px",height:"36px",position:"relative",top:"-33px"}})],1)],1)],2),s("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("b-button",{staticClass:"float-right m-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){t.show=!1}}},[t._v("\n        关闭\n      ")]),s("b-button",{staticClass:"float-right m-1",attrs:{variant:"primary",size:"sm"},on:{click:t.confirmChange}},[t._v("\n        确认修改\n      ")])],1)],1),s("b-modal",{staticClass:"modal-danger",attrs:{title:"通知","ok-only":!0},model:{value:t.ossInfoTitleCheck,callback:function(e){t.ossInfoTitleCheck=e},expression:"ossInfoTitleCheck"}},[t._v("\n    留学信息标题不能为空！\n  ")]),s("b-modal",{staticClass:"modal-danger",attrs:{title:"通知","ok-only":!0},model:{value:t.ossInfoContentCheck,callback:function(e){t.ossInfoContentCheck=e},expression:"ossInfoContentCheck"}},[t._v("\n    留学信息内容不能为空!\n  ")]),s("b-modal",{staticClass:"modal-danger",attrs:{title:"通知","ok-only":!0},model:{value:t.ossInfoColorCheck,callback:function(e){t.ossInfoColorCheck=e},expression:"ossInfoColorCheck"}},[t._v("\n    留学信息背景颜色不能为空!\n  ")]),s("b-modal",{staticClass:"modal-danger",attrs:{title:"通知","ok-only":!0},model:{value:t.serviceFlowBackPicCheck,callback:function(e){t.serviceFlowBackPicCheck=e},expression:"serviceFlowBackPicCheck"}},[t._v("\n    服务流程背景图片不能为空!\n  ")]),s("b-modal",{staticClass:"modal-danger",attrs:{title:"通知","ok-only":!0},model:{value:t.serviceFlowTitleCheck,callback:function(e){t.serviceFlowTitleCheck=e},expression:"serviceFlowTitleCheck"}},[t._v("\n    服务流程标题不能为空！\n  ")]),s("b-modal",{staticClass:"modal-danger",attrs:{title:"通知","ok-only":!0},model:{value:t.serviceFlowContentCheck,callback:function(e){t.serviceFlowContentCheck=e},expression:"serviceFlowContentCheck"}},[t._v("\n    服务流程内容不能为空!\n  ")]),s("b-modal",{staticClass:"modal-danger",attrs:{title:"通知","ok-only":!0},model:{value:t.serviceFlowBackColorCheck,callback:function(e){t.serviceFlowBackColorCheck=e},expression:"serviceFlowBackColorCheck"}},[t._v("\n    服务流程背景颜色不能为空!\n  ")])],1)},n=[],r={inject:["reload"],name:"oss-edit",props:{ossInfo:{type:Object,required:!0}},data:function(){return{show:!1,headerBgVariant:"info",bodyBgVariant:"light",footerBgVariant:"warning",options:[{value:null,text:"请选择背景颜色"},{value:"bg-primary",text:"蓝色"},{value:"bg-secondary",text:"灰色"},{value:"bg-success",text:"绿色"},{value:"bg-danger",text:"红色"},{value:"bg-warning",text:"黄色"},{value:"bg-info",text:"浅蓝色"},{value:"bg-light",text:"明亮色"},{value:"bg-dark",text:"黑色"},{value:"bg-purple",text:"紫色"},{value:"bg-pink",text:"粉色"},{value:"bg-orange",text:"橙色"},{value:"bg-teal",text:"蓝绿色"},{value:"bg-cyan",text:"青绿色"}],oss:[{ossTitle:"",content:"",bacColor:null}],addOss:{ossTitle:"",content:"",bacColor:null},ossInfoTitleCheck:!1,ossInfoContentCheck:!1,ossInfoColorCheck:!1,serviceFlow:[{sfbackPic:null,sftitle:"",sfcontent:"",sfbackColor:null}],addServiceFlow:{sfbackPic:null,sftitle:"",sfcontent:"",sfbackColor:null},serviceFlowBackPicCheck:!1,serviceFlowTitleCheck:!1,serviceFlowContentCheck:!1,serviceFlowBackColorCheck:!1,dataFlag:!0}},methods:{getOss:function(){var t=this;l.a.get("http://localhost:8080/overseas_study_service/getoss").then(function(e){t.oss=e.data})},getServiceFlows:function(){var t=this;l.a.get("http://localhost:8080/overseas_study_service/get_service_flows").then(function(e){t.serviceFlow=e.data})},ossInfoEdit:function(){l.a.post("http://localhost:8080/overseas_study_service/ossinfo_edit",this.oss).then(function(t){})},serviceFlowInfoEdit:function(){l.a.post("http://localhost:8080/overseas_study_service/service_flow_info_edit",this.serviceFlow).then(function(t){})},ossInfoAddCheck:function(){return""==this.addOss.ossTitle?(this.ossInfoTitleCheck=!0,!1):""==this.addOss.content?(this.ossInfoContentCheck=!0,!1):null!=this.addOss.bacColor||(this.ossInfoColorCheck=!0,!1)},serviceFlowAddCheck:function(){return null==this.addServiceFlow.sfbackPic?(this.serviceFlowBackPicCheck=!0,!1):""==this.addServiceFlow.sftitle?(this.serviceFlowTitleCheck=!0,!1):""==this.addServiceFlow.sfcontent?(this.serviceFlowContentCheck=!0,!1):null!=this.addServiceFlow.sfbackColor||(this.serviceFlowBackColorCheck=!0,!1)},confirmChange:function(){var t=this;setTimeout(function(){t.ossInfoEdit()},"10"),setTimeout(function(){t.serviceFlowInfoEdit()},"10"),this.show=!1,setTimeout(function(){t.reload()},"60")}},updated:function(){this.dataFlag&&(this.oss=this.ossInfo.ossShow,this.serviceFlow=this.ossInfo.serviceFlowShow),this.dataFlag=!1},directives:{deleteOss:{bind:function(t,e,s){t.onclick=function(){l.a.delete("http://localhost:8080/overseas_study_service/delete_oss/"+e.value).then(function(t){"success"==t.data.result&&setTimeout(function(){s.context.getOss()},"10")})}}},addOss:{bind:function(t,e,s){t.onclick=function(){s.context.ossInfoAddCheck()&&l.a.post("http://localhost:8080/overseas_study_service/add_oss",s.context.addOss).then(function(t){"success"==t.data.result&&(s.context.getOss(),s.context.addOss={ossTitle:"",content:"",bacColor:null})})}}},deleteServiceFlow:{bind:function(t,e,s){t.onclick=function(){l.a.delete("http://localhost:8080/overseas_study_service/delete_service_flow/"+e.value).then(function(t){"success"==t.data.result&&setTimeout(function(){s.context.getServiceFlows()},"10")})}}},addServiceFlow:{bind:function(t,e,s){t.onclick=function(){if(s.context.serviceFlowAddCheck()){var t=s.context.addServiceFlow.sfbackPic;s.context.addServiceFlow.sfbackPic="";var e=new FormData;e.append("picture",t),l.a.post("http://localhost:8080/overseas_study_service/background_pic/"+s.context.addServiceFlow.sftitle,e).then(function(t){"success"==t.data.result&&s.context.getServiceFlows()}),l.a.post("http://localhost:8080/overseas_study_service/add_service_flow",s.context.addServiceFlow).then(function(t){"success"==t.data.result&&(s.context.getServiceFlows(),s.context.addServiceFlow={sfbackPic:null,sftitle:"",sfcontent:"",sfbackColor:null})})}}}}}},d=r,v=s("2877"),b=Object(v["a"])(d,i,n,!1,null,"7c38f927",null),f=b.exports,h={name:"oss",props:{adminInfo:{type:String,required:!0}},components:{OssEdit:f},data:function(){return{edit_oss:!1,ossShow:[],serviceFlowShow:[],ossInfo:{}}},methods:{getOss:function(){var t=this;l.a.get("http://localhost:8080/overseas_study_service/getoss").then(function(e){t.ossShow=e.data,t.ossInfo.ossShow=t.ossShow})},getServiceFlows:function(){var t=this;l.a.get("http://localhost:8080/overseas_study_service/get_service_flows").then(function(e){t.serviceFlowShow=e.data,t.ossInfo.serviceFlowShow=t.serviceFlowShow})}},created:function(){this.getOss(),this.getServiceFlows(),""!=this.adminInfo?this.edit_oss=!0:this.edit_oss=!1}},u=h,m=Object(v["a"])(u,o,a,!1,null,"517a3005",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0c732f.0b906788.js.map